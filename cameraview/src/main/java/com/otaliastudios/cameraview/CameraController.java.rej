***************
*** 509,527 ****
          boolean flip = shouldFlipSizes();
          AspectRatio targetRatio = AspectRatio.of(mPictureSize.getWidth(), mPictureSize.getHeight());
          Size targetMinSize = mPreview.getSurfaceSize();
-         if (flip) targetMinSize = targetMinSize.flip();
          LOG.i("size:", "computePreviewSize:", "targetRatio:", targetRatio, "targetMinSize:", targetMinSize);
          SizeSelector matchRatio = SizeSelectors.aspectRatio(targetRatio, 0);
          SizeSelector matchSize = SizeSelectors.and(
                  SizeSelectors.minHeight(targetMinSize.getHeight()),
                  SizeSelectors.minWidth(targetMinSize.getWidth()));
          SizeSelector matchAll = SizeSelectors.or(
                  SizeSelectors.and(matchRatio, matchSize),
                  SizeSelectors.and(matchRatio, SizeSelectors.biggest()), // If couldn't match both, match ratio and biggest.
                  SizeSelectors.biggest() // If couldn't match any, take the biggest.
          );
          Size result = matchAll.select(previewSizes).get(0);
          LOG.i("computePreviewSize:", "result:", result, "flip:", flip);
          return result;
      }
  
--- 518,545 ----
          boolean flip = shouldFlipSizes();
          AspectRatio targetRatio = AspectRatio.of(mPictureSize.getWidth(), mPictureSize.getHeight());
          Size targetMinSize = mPreview.getSurfaceSize();
+         if (flip) {
+             ArrayList<Size> temp = new ArrayList<>(previewSizes.size());
+             for (Size previewSize : previewSizes) {
+                 temp.add(previewSize.flip());
+             }
+ 
+             previewSizes = temp;
+         }
          LOG.i("size:", "computePreviewSize:", "targetRatio:", targetRatio, "targetMinSize:", targetMinSize);
          SizeSelector matchRatio = SizeSelectors.aspectRatio(targetRatio, 0);
          SizeSelector matchSize = SizeSelectors.and(
                  SizeSelectors.minHeight(targetMinSize.getHeight()),
                  SizeSelectors.minWidth(targetMinSize.getWidth()));
          SizeSelector matchAll = SizeSelectors.or(
+                 mPreviewSizeSelector,
                  SizeSelectors.and(matchRatio, matchSize),
                  SizeSelectors.and(matchRatio, SizeSelectors.biggest()), // If couldn't match both, match ratio and biggest.
                  SizeSelectors.biggest() // If couldn't match any, take the biggest.
          );
          Size result = matchAll.select(previewSizes).get(0);
          LOG.i("computePreviewSize:", "result:", result, "flip:", flip);
+         if (flip) result = result.flip();
          return result;
      }
  
